<div class="content-layout">
  <div class="container">
    <div
      id="carouselExampleIndicators"
      class="carousel slide"
      data-ride="carousel"
    >
      <ol class="carousel-indicators">
        <li
          data-target="#carouselExampleIndicators"
          data-slide-to="0"
          class="active"
        ></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img
            class="d-block w-100"
            src="assets/images/slider.png.jpg"
            alt="First slide"
          />
        </div>
        <div class="carousel-item">
          <img
            class="d-block w-100"
            src="assets/images/slider.png.jpg"
            alt="Second slide"
          />
        </div>
        <div class="carousel-item">
          <img
            class="d-block w-100"
            src="assets/images/slider.png.jpg"
            alt="Third slide"
          />
        </div>
      </div>
      <a
        class="carousel-control-prev"
        href="#carouselExampleIndicators"
        role="button"
        data-slide="prev"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a
        class="carousel-control-next"
        href="#carouselExampleIndicators"
        role="button"
        data-slide="next"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
    <div class="category layout-box">
      <h2>Danh mục nổi bật</h2>
      <div class="category-content">
        <div class="Container-itwfbd-0 jFkAwY">
          <div
            data-view-id="home_quicklinks_tab_container"
            class="style__StyledIconWidgets-zkcvo4-0 gTeiZp"
          >
            <ng-container
              *ngFor="let category of (categories$ | async).slice(0, 10)"
            >
              <a
                href="https://tiki.vn/khuyen-mai/ma-giam-gia?src=top_desktop_icon"
                class="item"
                data-view-id="home_quicklinks_tab_item"
                data-view-index="0"
                ><img
                  [src]="
                    category?.image_url || 'assets/images/category-item.jpeg'
                  "
                  class="thumb"
                /><span>{{ category?.category_name }}</span></a
              >
            </ng-container>
          </div>
        </div>
      </div>
    </div>
    <div class="row app-flex mb-3">
      <input
        type="text"
        class="form-control rounded-pill col-2 p-4 mr-3"
        placeholder="Nhập mã sách"
        [(ngModel)]="book_id"
      />
      <input
        type="text"
        class="form-control rounded-pill col-2 p-4 mr-3"
        placeholder="Nhập tên sách"
        [(ngModel)]="searchKeyword"
      />
      <input
        type="number"
        class="form-control rounded-pill col-2 p-4 mr-3"
        placeholder="Giá từ"
        [(ngModel)]="from_price"
      />
      <input
        type="number"
        class="form-control rounded-pill col-2 p-4 mr-3"
        placeholder="Giá đến"
        [(ngModel)]="to_price"
      />
      <select
        class="form-control col-2 p-2 rounded-pill mr-3"
        name="category"
        [(ngModel)]="supplier_id"
      >
        <option value="" selected>Chọn nhà cung cấp</option>
        <option
          *ngFor="let supplier of suppliers$ | async"
          [ngValue]="supplier.supplier_id"
          class="font-weight-bold"
        >
          {{ supplier?.contact_name }}
          <div class="px-3 py-2">
            <i class="fa fa-plus"></i>
          </div>
        </option>
      </select>
      <select
        class="form-control col-2 p-2 rounded-pill mr-3"
        name="category"
        [(ngModel)]="category_id"
      >
        <option value="" selected>Chọn thể loại</option>
        <option
          *ngFor="let category of categories$ | async"
          [ngValue]="category.category_id"
          class="font-weight-bold"
        >
          {{ category?.category_name }}
          <div class="px-3 py-2">
            <i class="fa fa-plus"></i>
          </div>
        </option>
      </select>
      <div class="btn-app rounded-pill col-1" (click)="SearchBooks()">
        Tìm kiếm
      </div>
    </div>

    <div class="search-summary">
      <div class="title">
        <h1>Kết quả tìm kiếm:</h1>
        <h4>{{ (book_list_view$ | async)?.items.length }} sản phẩm</h4>
      </div>
      <div class="Sorter__Root-sc-1u1tc3w-0 gwxwjw">
        <div class="Sorter__Bottom-sc-1u1tc3w-2 bvZuzo">
          <div
            data-view-id="search_sort_container"
            class="Sorter__Tabs-sc-1u1tc3w-3 hhXHWC"
          >
            <div class="sort-list">
              <a
                data-view-id="search_sort_item"
                data-view-index="0"
                class=""
                href="https://tiki.vn/search?q=nh%C3%A0+gi%E1%BA%A3+kim&amp;sort=default&amp;page=1"
                >Phổ biến</a
              ><a
                data-view-id="search_sort_item"
                data-view-index="1"
                class=""
                href="https://tiki.vn/search?q=nh%C3%A0+gi%E1%BA%A3+kim&amp;sort=top_seller&amp;page=1"
                >Bán chạy</a
              ><a
                data-view-id="search_sort_item"
                data-view-index="2"
                class=""
                href="https://tiki.vn/search?q=nh%C3%A0+gi%E1%BA%A3+kim&amp;sort=newest&amp;page=1"
                >Hàng mới</a
              ><a
                data-view-id="search_sort_item"
                data-view-index="3"
                class=""
                href="https://tiki.vn/search?q=nh%C3%A0+gi%E1%BA%A3+kim&amp;sort=price%2Casc&amp;page=1"
                >Giá thấp</a
              ><a
                data-view-id="search_sort_item"
                data-view-index="4"
                class="active"
                href="https://tiki.vn/search?q=nh%C3%A0+gi%E1%BA%A3+kim&amp;sort=price%2Cdesc&amp;page=1"
                >Giá cao</a
              >
            </div>
          </div>
        </div>
      </div>
      <div class="category layout-box">
        <h2>Tất cả sản phẩm</h2>
        <div
          class="style__StyledNotFoundProductView-sc-1uz0b49-0 VLxTK"
          *ngIf="(book_list_view$ | async)?.items.length == 0"
        >
          <div>
            Rất tiếc, không tìm thấy sản phẩm phù hợp với lựa chọn của bạn
          </div>
        </div>
        <div
          data-view-id="home_infinity_tab_content"
          data-view-index="0"
          class="style__StyledInfiniteScroll-sc-1xjioqa-0 jGFkeY"
          *ngIf="(book_list_view$ | async)?.items.length != 0"
        >
          <div class="content">
            <ng-container
              *ngFor="let product of (book_list_view$ | async)?.items"
            >
              <div
                style="width: 20%; margin: 1.5rem"
                (click)="onDetail(product.book_id)"
              >
                <a class="product-item" data-view-id="home_infinity_products">
                  <span class="style__StyledItem-sc-1bp67fh-0 khGMIT">
                    <div>
                      <div class="thumbnail">
                        <div class="badge-top"></div>
                        <img
                          [src]="
                            product?.image ||
                            'https://salt.tikicdn.com/cache/280x280/ts/product/84/9d/ea/2ade5c2b210f67aef4699e400357db68.jpg'
                          "
                          alt="Combo 3 Tập Độc Giả Và Nhân Vật Chính Đích Thị Là Chân Tình (Tập 3-4-5) "
                        />
                      </div>
                      <div class="info">
                        <div class="badge-service"></div>
                        <div class="name">
                          <span>{{ product?.book_name }} </span>
                        </div>
                        <div class="rating-review">
                          <div class="rating">
                            <div class="rating__total">
                              <svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#c7c7c7"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(199, 199, 199)"
                                ne="0.44717265765390124"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path></svg
                              ><svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#c7c7c7"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(199, 199, 199)"
                                ne="0.15174151178090267"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path></svg
                              ><svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#c7c7c7"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(199, 199, 199)"
                                ne="0.4629776165789872"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path></svg
                              ><svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#c7c7c7"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(199, 199, 199)"
                                ne="0.37146920567034214"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path></svg
                              ><svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#c7c7c7"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(199, 199, 199)"
                                ne="0.5835421053358021"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path>
                              </svg>
                            </div>
                            <div class="rating__average" style="width: 94%">
                              <svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#fdd836"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(230, 214, 153)"
                                ne="0.8141172550544347"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path></svg
                              ><svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#fdd836"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(230, 214, 153)"
                                ne="0.4837405503607197"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path></svg
                              ><svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#fdd836"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(230, 214, 153)"
                                ne="0.6353039783944852"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path></svg
                              ><svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#fdd836"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(230, 214, 153)"
                                ne="0.8882721932905131"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path></svg
                              ><svg
                                stroke="currentColor"
                                fill="currentColor"
                                stroke-width="0"
                                viewBox="0 0 24 24"
                                size="12"
                                color="#fdd836"
                                height="12"
                                width="12"
                                xmlns="http://www.w3.org/2000/svg"
                                style="color: rgb(230, 214, 153)"
                                ne="0.3647343053482679"
                              >
                                <path
                                  d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"
                                ></path>
                              </svg>
                            </div>
                          </div>
                          <div class="review">(17)</div>
                        </div>
                        <div class="price-discount">
                          <div class="price-discount__price">
                            {{ product?.retail_price | vnd }}
                          </div>
                          <div class="price-discount__discount">-30%</div>
                        </div>
                        <div class="badge-under-price"></div>
                        <div class="badge-benefits"></div>
                        <div class="badge-additional-info"></div>
                      </div></div></span
                ></a>
              </div>
            </ng-container>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
